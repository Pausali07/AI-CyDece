services:
  ssh_honeypot:
    build: ./honeypots/ssh_honeypot
    container_name: ai-cydece-honeypot
    ports:
      - "2222:2222"
    volumes:
      - ./data/honeypot_logs:/var/honeypot/logs
      - ./data/pcaps:/var/honeypot/pcaps
    restart: unless-stopped

  tcpdump:
    image: corfr/tcpdump:latest
    container_name: ai-cydece-tcpdump
    command: ["-i", "any", "-w", "/pcaps/capture.pcap"]
    cap_add:
      - NET_ADMIN
      - NET_RAW
    volumes:
      - ./data/pcaps:/pcaps
    restart: "no"

  zeek:
    image: zeek/zeek:latest
    container_name: zeek_container
    volumes:
      - ./data/pcaps:/pcaps
      - ./data/zeek_logs:/zeek_logs
    command: ["tail", "-f", "/dev/null"]
